<!DOCTYPE html>
<!--------------------------------------------------------------------->
<html>
    <head>
        <meta name='viewport' content='width=device-width, initial-scale=1'>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.1/css/bootstrap.css" />
        <link rel="stylesheet" href='https://fonts.googleapis.com/css?family=Nunito|Nunito+Sans|Roboto+Slab' />
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.2.1.min.js"></script>
    </head>
    <body>
        <!----------------------------------------------->
        <div id=layout>
            <div id=header></div>
            <div id=nav_content>
                <div id=nav></div>
                <div id=content><div id=vm_loader class="loader_0"></div></div>
            </div>
            <div id=footer></div>
        </div>
        <!----------------------------------------------->
        <div id=components>
            <!----------------------------------------------->
            <div id=c_header>
                <div id=m_header_0>
                    <span module=home id=m_title_0>Business Portal</span> <a id=vm_toggle_0 onclick="$vm.toggle()"><i class="fa fa-bars"></i></a>
                </div>
                <div id=d_header_0>Header</div>
            </div>
            <div id=c_nav>
                <div id=sidebar_0 class=vm_sidebar_hide>
                    <div id=vm_logo module=home>
                        <div id=vm_logo_image></div>
                    </div>
                    <div id="vm_menu">
                        <a href="?/home"><i class="fa fa-home"></i>Home</a>
                        <u class=vm_folder><i class="fa fa-folder-open-o"></i>Data Entry</u>
                        <ul>
                            <li><a href="?/home2">Predefine Project</a></li>
                            <li><a href="?/program-data">Programs</a></li>
                            <li><a href="?/program-document-data">&rarr; Document</a></li>
                            <li><a href="?/project-open-data">Projects (Open)</a></li>
                            <li><a href="?/project-open-document-data">&rarr; Document</a></li>
                            <li><a href="?/project-proposal-variation-data">&rarr; Proposal and Variation</a></li>
                		</ul>
                        <u class=vm_folder><i class="fa fa-folder-o"></i>View</u>
                        <ul class=vm_menu_hide_0>
                            <li><a href="?/project-closed-data">Projects (Closed)</a></li>
                            <li><a href="?/project-closed-document-data">&rarr; Document</a></li>
                		</ul>
                        <a href="?/about"><i class="fa fa-info-circle"></i> About</a><br>
                        <div id=vm_signin>
                            <u class=vm_folder><i class="fa fa-folder-o"></i>Sign In</u>
                            <ul class=vm_menu_hide_0>
                                <li id='google_0' >With your Google account</li>
                                <li id='facebook_0'>With your Facebook account</li>
                                <li onclick="$vm.nav_wappsystem_signin();">With your Wappsystem account</li>
                            </ul>
                            <br>
                        </div>
                        <div id=vm_signout>
                            <u onclick=$vm.nav_signout()><i class="fa fa-user"></i>Sign Out</u>
                        </div>
                    </div>
                </div>
            </div>
            <!----------------------------------------------->
            <div id=c_footer>
                <span id=text_0></span>
            </div>
            <!----------------------------------------------->
        </div>
        <!----------------------------------------------->
        <script>
            //------------------------------------
            $vm={};$vm.ver=[2,2];$VmAPI={};
            $vm.start_time=new Date().getTime();
            $vm.api_path_development="https://cbs.wappsystem.com/dev/";
            $vm.api_path_production="https://cbs.wappsystem.com/pro/";
            $vm.default_production="No";
            $vm.qid='10000000';
            //$vm.vm_router=1;
            if(window.location.hostname=='127.0.0.1' || window.location.hostname=='localhost') $vm.localhost=true;
            //------------------------------------
            $vm.module_list={
                "home":   {"url":"_C_/modules/home.html"},
                "home2":   {"url":"_C_/modules/home2.html"},
                "program-data":{"table_id":"20000013","url":"_C_/modules/program-data.html","form_module":"program-form"},
        	    "program-form":{"table_id":"20000013","url":"_C_/modules/program-form.html"},
                "program-document-data":{"table_id":"20000028","url":"_C_/modules/program-document-data.html","form_module":"program-document-form"},
        	    "program-document-form":{"table_id":"20000028","url":"_C_/modules/program-document-form.html"},
                "country-data": {"table_id":"20011479", "url":"_C_/modules/country-data.html","form_module":"country-form"},
        	    "country-form": {"table_id":"20011479", "url":"_C_/modules/country-form.html"},
                "document-type-data": {"table_id":"20011477", "url":"_C_/modules/document-type-data.html","form_module":"document-type-form"},
        	    "document-type-form":{"table_id":"20011477","url":"_C_/modules/document-type-form.html"},
                "project-open-data":	{"table_id" : "20000012","url" :"_C_/modules/project-data.html","form_module":"project-form","status":"open"},
                "project-closed-data":	{"table_id" : "20000012","url" :"_C_/modules/project-data.html","form_module":"project-form","status":"closed"},
                "project-form":	{"table_id" : "20000012","url":"_C_/modules/project-form.html"},
                "project-single-form":	{"table_id" : "20000012","url":"_C_/modules/project-single-form.html"},
                "sector-data": {"table_id":"20011480", "url":"_C_/modules/sector-data.html","form_module":"sector-form"},
        	    "sector-form": {"table_id":"20011480", "url":"_C_/modules/sector-form.html"},
                "funding-source-data": {"table_id":"20011483", "url":"_C_/modules/funding-source-data.html","form_module":"funding-source-form"},
        	    "funding-source-form": {"table_id":"20011483", "url":"_C_/modules/funding-source-form.html"},
                "project-approval-status-data": {"table_id":"20011487", "url":"_C_/modules/project-approval-status-data.html","form_module":"project-approval-status-form"},
        	    "project-approval-status-form": {"table_id":"20011487", "url":"_C_/modules/project-approval-status-form.html"},
                "implementation-arrangement-data": {"table_id":"20011485", "url":"_C_/modules/implementation-arrangement-data.html","form_module":"implementation-arrangement-form"},
        	    "implementation-arrangement-form": {"table_id":"20011485", "url":"_C_/modules/implementation-arrangement-form.html"},
                "drr-mainstreaming-data": {"table_id":"20011486", "url":"_C_/modules/drr-mainstreaming-data.html","form_module":"drr-mainstreaming-form"},
        	    "drr-mainstreaming-form": {"table_id":"20011486", "url":"_C_/modules/drr-mainstreaming-form.html"},
                "theme-data": {"table_id":"20011484", "url":"_C_/modules/theme-data.html","form_module":"theme-form"},
        	    "theme-form": {"table_id":"20011484", "url":"_C_/modules/theme-form.html"},
                "location-data": {"table_id":"20011481", "url":"_C_/modules/location-data.html","form_module":"location-form"},
        	    "location-form": {"table_id":"20011481", "url":"_C_/modules/location-form.html"},
                "project-single-document-data":	{"table_id" : "20000017","url" :"_C_/modules/project-single-document-data.html","form_module":"project-single-document-form"},
                "project-open-document-data":	{"table_id" : "20000017","url" :"_C_/modules/project-document-data.html","form_module":"project-document-form","status":"open"},
                "project-closed-document-data":	{"table_id" : "20000017","url" :"_C_/modules/project-document-data.html","form_module":"project-document-form","status":"closed"},
                "project-single-document-form":	{"table_id" : "20000017","url":"_C_/modules/project-single-document-form.html"},
                "project-document-form":	{"table_id" : "20000017","url":"_C_/modules/project-document-form.html"},
                "project-single-proposal-variation-data":	{"table_id" : "20000023","url":"_C_/modules/project-single-proposal-variation-data.html","form_module":"project-single-proposal-variation-form"},
        	    "project-single-proposal-variation-form":	{"table_id" : "20000023","url":"_C_/modules/project-single-proposal-variation-form.html"},
                "project-single-proposal-fy-budget-data":	{"table_id" : "20000014","url":"_C_/modules/project-single-proposal-fy-budget-data.html","form_module":"project-single-proposal-fy-budget-form"},
        	    "project-single-proposal-fy-budget-form":	{"table_id" : "20000014","url":"_C_/modules/project-single-proposal-fy-budget-form.html"},
                "project-single-actual-spending-data":	{"table_id" : "20000015","url":"_C_/modules/project-single-actual-spending-data.html","form_module":"project-single-actual-spending-form"},
        	    "project-single-actual-spending-form":	{"table_id" : "20000015","url":"_C_/modules/project-single-actual-spending-form.html"},
                "project-single-actual-spending-source-data":	{"table_id" : "20000024","url":"_C_/modules/project-single-actual-spending-source-data.html","form_module":"project-single-actual-spending-source-form"},
        	    "project-single-actual-spending-source-form":	{"table_id" : "20000024","url":"_C_/modules/project-single-actual-spending-source-form.html"}
            }
            //------------------------------------
            for(p in $vm.module_list){
                if($vm.localhost) $vm.module_list[p].url=$vm.module_list[p].url.replace('_C_/','http://127.0.0.1:8000/wappsystem/ppm/');
                else              $vm.module_list[p].url=$vm.module_list[p].url.replace('_C_/','https://www.vmiis.com/');
            }
            //------------------------------------
            $vm.start=function(){
                $vm.init_v3({callback:function(){
                   $vm.init_status=1;
                   $vm.show_user();
                   //-------------------------------------
                   $vm.module_list['_system_export_dialog_module']={table_id:'',url:'__COMPONENT__/dialog/export_dialog_module.html',"name_for_search":""};
                   $vm.load_module_v2('_system_export_dialog_module','hidden',{})
                   //-------------------------------------
                   $vm.module_list['_system_import_dialog_module']={table_id:'',url:'__COMPONENT__/dialog/import_dialog_module.html',"name_for_search":""};
                   $vm.load_module_v2('_system_import_dialog_module','hidden',{})
                   //-------------------------------------
                   $vm.module_list['uploading_file_dialog_module']={table_id:'',url:'__COMPONENT__/dialog/uploading_file_dialog_module.html',"name_for_search":""};
                   $vm.load_module_v2('uploading_file_dialog_module','hidden',{})
                   //-------------------------------------
               }})
            }
            //------------------------------------
            $vm.default_title="PnP";
            $('#text_0').html("Copyright &copy; "+(new Date()).getFullYear()+", Child Fund Australia");
            //------------------------------------
            $vm.show=function(id){
                document.title=$vm.default_title;
                $("meta[name='description']").attr("content", "PnP");
                $("body").removeClass();
                $("body").addClass('body_background_default');
                if(id!=undefined && $vm.vm[id].show!=undefined){
                    $vm.vm[id].show();
                }
            }
            //------------------------------------
            $vm.show();
            //------------------------------------
            $('#c_header').contents().appendTo('#header');
            $('#c_nav').contents().appendTo('#nav');
            $('#c_footer').contents().appendTo('#footer');
            //------------------------------------
            $vm.root_layout_content_slot='content'
            $vm.root_layout_footer='footer';
            //------------------------------------
            $vm.resources=[
              "https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",
              "https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/themes/redmond/jquery-ui.css",
              "https://cdnjs.cloudflare.com/ajax/libs/react/16.4.1/umd/react.production.min.js",
              "https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.4.1/umd/react-dom.production.min.js",
              "https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.min.js",
              "https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js",
              "https://maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js",
              "https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/jquery-ui.min.js",
              "https://apis.google.com/js/plusone.js",
              "https://ajax.aspnetcdn.com/ajax/jquery.validate/1.14.0/jquery.validate.min.js",
              "https://sdk.amazonaws.com/js/aws-sdk-2.1.34.min.js",
              "https://www.gstatic.com/charts/loader.js"
            ];
            //---------------------------------------------
            $.ajaxSetup({cache:true});
            var url="sys/os-003.html";
            if($vm.localhost) url="sys/os-003.html";
            $.get(url+'?_='+$vm.ver[1]+$vm.reload,function(data){$('#content').append(data);},'text');
            //---------------------------------------------
        </script>
        <!----------------------------------------------->
        <style>
            html,body{ margin:0; padding:0; height:100%; font-family:Arial;}
            body{background-size: cover; background-repeat: repeat-x; background-position: center top; background-attachment: fixed;}
            .body_background_default{
                background-image: url(sys/layout.jpg);
            }
            #vm_logo_image{
                margin-top:8px;
                width:191px;
                height:76px;
                background: url('sys/layout.logo.png') no-repeat top center;
                background-size: cover;
                float:left;
            }
            #layout {
                height: 100%;
                display: grid;
                grid-template-rows: auto 1fr auto;
                overflow:hidden;
            }
            #nav_content{
                display: grid;
                grid-template-columns: auto 1fr;
                overflow:hidden;
            }
            #content{
                overflow:auto;
            }
            .vm_hide{
                display:none!Important;
            }
        </style>
        <!----------------------------------------------->
    </body>
</html>
